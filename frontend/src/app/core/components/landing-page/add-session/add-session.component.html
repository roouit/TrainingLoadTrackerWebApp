<div class="container">
  <div class="add-session-title">{{ title }}</div>
  <div class="generic-message" *ngIf="genericMessage">{{ genericMessage }}</div>
  <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
  <form
    class="add-session-form"
    [formGroup]="addSessionForm"
    (ngSubmit)="onSubmit()"
  >
    <div class="add-session-inputs">
      <div class="duration-input">
        <input
          matInput
          id="duration"
          (input)="onInputChange($event)"
          type="number"
          formControlName="duration"
        />
        <div class="slider">
          <mat-slider
            id="duration"
            color="primary"
            formControlName="duration"
            (input)="onSliderChange($event)"
            step="5"
            min="0"
            max="180"
            aria-label="units"
          ></mat-slider>
          <div class="slider-label">Harjoituksen kesto (min)</div>
        </div>
      </div>

      <div class="rpe-input">
        <input
          matInput
          id="rpe"
          (input)="onInputChange($event)"
          type="number"
          formControlName="rpe"
        />
        <div class="slider">
          <mat-slider
            id="rpe"
            color="primary"
            formControlName="rpe"
            (input)="onSliderChange($event)"
            step="1"
            min="0"
            max="10"
            aria-label="units"
          ></mat-slider>
          <div class="slider-label">
            Koettu kuormitus (RPE)
            <button
              class="rpe-help-button"
              type="button"
              (click)="showRpeHelp()"
              mat-icon-button
              aria-label="Button with a question mark icon"
            >
              <mat-icon class="rpe-help-icon">help_outline</mat-icon>
            </button>
          </div>
        </div>
      </div>

      <mat-form-field
        class="date-input"
        (click)="picker.open()"
        appearance="legacy"
        floatLabel="always"
      >
        <input
          matInput
          [max]="today"
          [matDatepicker]="picker"
          formControlName="date"
        />
        <mat-datepicker-toggle matSuffix [for]="picker">
        </mat-datepicker-toggle>
        <mat-datepicker touchUi #picker></mat-datepicker>
      </mat-form-field>
    </div>
    <button
      mat-raised-button
      class="btn-success add-session-btn"
      [class.spinner]="loading"
      type="submit"
      [disabled]="!addSessionForm.valid"
    >
      {{ loading ? "" : "Lisää" }}
    </button>
  </form>
</div>
